# ===============================
# ğŸ”§ Server Configuration
# ===============================
server.port=${SERVER_PORT:9000}

# ===============================
# ğŸ—„ï¸ Database Configuration (PostgreSQL)
# ===============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# ğŸ§© MyBatis Configuration
# ===============================
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.configuration.map-underscore-to-camel-case=true

# ===============================
# ğŸŒ CORS & CSP Configuration
# ===============================
app.cors.allowed-origins=${ALLOWED_ORIGINS:https://localbasket.o-r.kr,http://localhost:8080}
app.upload.dir=${UPLOAD_DIR:uploads}
security.headers.content-security-policy=${CSP:default-src 'self' data: blob: 'unsafe-inline' 'unsafe-eval' https://dapi.kakao.com https://*.daumcdn.net https://localbasket.o-r.kr http://localhost:8080;}

# ===============================
# ğŸªµ Logging
# ===============================
logging.level.org.mybatis=DEBUG
logging.level.org.apache.ibatis=DEBUG
logging.level.jdbc.sqlonly=DEBUG
logging.level.jdbc.sqltiming=DEBUG
logging.level.jdbc.audit=DEBUG

# ===============================
# ğŸ“ File Upload Limits
# ===============================
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# í”„ë¡ì‹œ(nginx-proxy) ë’¤ HTTPS ì¸ì‹ & ì¿ í‚¤ ë³´ì•ˆ (ë„ì»¤ ë°°í¬ ì‹œ ê¶Œì¥)
server.forward-headers-strategy=framework
server.use-forward-headers=true
server.tomcat.remote-ip-header=x-forwarded-for
server.tomcat.protocol-header=x-forwarded-proto
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=Lax

# JWT (ìš´ì˜ì€ í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì…!)
security.jwt.secret=${JWT_SECRET:CHANGE_THIS_TO_A_LONG_RANDOM_SECRET_VALUE}
security.jwt.expiration-seconds=${JWT_EXPIRES:3600}
